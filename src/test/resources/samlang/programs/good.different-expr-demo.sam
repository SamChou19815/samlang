// ERROR_COUNT: 0

class Foo(a: int) {
    public function bar(): int = 3
}

class Option<T>(None(unit), Some(T)) {
    function matchExample(opt: Option<int>): int =
        match (opt) {
            | None _ -> 42
            | Some a -> a
        }
}

class Obj(d: int, e: int) {
    function valExample(): int =
        val a: int = 1;
        val b = 2;
        val [_, c] = ["dd", 3];
        val { e as d } = { d: 5, e: 4 };
        val _ = 42;
        a + b * c / d
}

class Main {
    function identity(a: int): int = a

    function random(): int =
        val a = 42; // very random
        a

    function oof(): int = 14

    function div(a: int, b: int): int =
        if b == 0 then (
            panic("Division by zero is illegal!")
        ) else (
            a / b
        )

    function nestedVal(): int =
        val a = (
            val b = 4;
            val c = (
                val d = b;
                b
            );
            b
        );
        a + 1

    function main(): int = Foo.bar() * Main.oof()
}
